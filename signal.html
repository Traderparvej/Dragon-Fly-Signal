<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DragonFly ‚Äî Signal Generator</title>
<style>
:root{
  --bg:#081024;
  --panel:#0f1530;
  --muted:#9fb0d6;
  --text:#ffffff;
  --accent:#6dd6ff;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:linear-gradient(180deg,#05102a,#081024);
  color:var(--text);
}
.wrap{max-width:1100px;margin:18px auto;padding:18px;}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;}
header h1{margin:0;font-size:20px;}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.03));border:1px solid rgba(255,255,255,0.04);border-radius:14px;padding:14px;margin-bottom:12px;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
select,input[type=date],input[type=number],button{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,255,255,0.9);
  color:#000;
  font-weight:600;
}
.controls{display:flex;gap:10px;margin-top:12px;}
.controls button{flex:1;background:var(--accent);color:#000;border:none;border-radius:10px;cursor:pointer;font-weight:600;}
.output{
  margin-top:12px;
  padding:12px;
  border-radius:12px;
  background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.02));
  border:1px solid rgba(255,255,255,0.03);
  min-height:180px;
  white-space:pre-wrap;
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  color:#fff;
}
footer{text-align:center;color:var(--muted);font-size:13px;margin-top:16px;}
a.owner-link{color:var(--accent);text-decoration:none;font-weight:bold;}
a.owner-link:hover{text-decoration:underline;}
@media (max-width:880px){.grid{grid-template-columns:1fr;}}

/* üîí Modal Style */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:999;}
.modal{background:#0f1530;padding:20px;border-radius:12px;width:90%;max-width:400px;color:#fff;box-shadow:0 8px 24px rgba(0,0,0,0.5);}
.modal h2{margin-top:0;margin-bottom:10px;}
.modal input{width:100%;padding:10px;border-radius:8px;border:1px solid #333;margin-bottom:12px;}
.modal button{padding:10px 16px;border:none;border-radius:8px;background:var(--accent);font-weight:bold;cursor:pointer;}
.modal .error{color:#ff8a8a;font-size:13px;display:none;margin-top:6px;}
.modal .expired a{color:#6dd6ff;text-decoration:none;}
.modal .expired a:hover{text-decoration:underline;}
</style>
</head>
<body>
<div class="wrap">
<header>
<h1>üêâ DragonFly ‚Äî Signal Generator</h1>
<div class="small">Software: DragonFly &nbsp; Owner: <a class="owner-link" href="https://t.me/TraderParvej" target="_blank">@TraderParvej</a></div>
</header>

<section class="card">
<div class="grid">
<div>
<label>UTC Offset (eg. +6:00)</label>
<select id="utcSelect">
<option value="+0:00">UTC +0:00</option>
<option value="+6:00" selected>UTC +6:00 (BD)</option>
</select>
</div>
<div>
<label>Market</label>
<select id="market">
<option value="OTC">OTC</option>
<option value="REAL">REAL</option>
</select>
</div>
<div>
<label>Timeframe</label>
<select id="timeframe">
<option value="1m" selected>1 minute</option>
<option value="5m">5 minutes</option>
<option value="15m">15 minutes</option>
<option value="1h">1 hour</option>
</select>
</div>
<div>
<label>Start Date</label>
<input id="date" type="date">
</div>
<div>
<label>Signal Count</label>
<input type="number" id="count" min="1" value="8">
</div>
<div>
<label>Asset</label>
<select id="asset"></select>
</div>
</div>

<div class="controls">
<button id="generate">Generate</button>
<button id="reset">Reset</button>
<button id="copyOut">Copy Output</button>
</div>

<div class="output" id="output">‚ñ∂Ô∏è DATE: ‚Äî ‚óÄÔ∏è

(Press Generate to produce signals)</div>
</section>

<footer>¬© DragonFly ‚Äî Advance signals. Use responsibly.</footer>
</div>

<!-- üîí License Modal -->
<div class="modal-backdrop" id="licenseModal" style="display:none;">
  <div class="modal">
    <h2>üîë License Required</h2>
    <div id="licenseContent">
      <p>Please enter your license key to unlock signals:</p>
      <input type="password" id="licenseKey" placeholder="Enter license key">
      <button id="submitLicense">Activate</button>
      <div class="error" id="licenseError">‚ùå Invalid license, try again.</div>
    </div>
    <div class="expired" style="display:none;">
      <p>License Expired. Please contact for a new license:</p>
      <a href="https://t.me/+SsTMPgPVYoVlNTQ1" target="_blank">Contact via Telegram</a>
    </div>
  </div>
</div>

<script>
const utcSel=document.getElementById('utcSelect');
const marketSel=document.getElementById('market');
const tf=document.getElementById('timeframe');
const dateInp=document.getElementById('date');
const countInp=document.getElementById('count');
const assetSel=document.getElementById('asset');
const outDiv=document.getElementById('output');
const generateBtn=document.getElementById('generate');
const resetBtn=document.getElementById('reset');
const copyBtn=document.getElementById('copyOut');

const licenseModal=document.getElementById('licenseModal');
const submitLicense=document.getElementById('submitLicense');
const licenseKey=document.getElementById('licenseKey');
const licenseError=document.getElementById('licenseError');
const licenseContent=document.getElementById('licenseContent');
const expiredContent=document.querySelector('.modal .expired');

let licenseOk=false;
const LICENSE_KEY='dragonflyvip';
const LICENSE_DAYS=30;
let licenseExpiry=null;

// Full OTC + REAL pairs
const OTCpairs=[
"AUD/USD (OTC)","USD/BRL (OTC)","EUR/USD (OTC)","NZD/CAD (OTC)","USD/ARS (OTC)","AUD/CAD (OTC)","CAD/JPY (OTC)","USD/IDR (OTC)","EUR/GBP (OTC)","USD/BDT (OTC)","USD/PHP (OTC)","USD/EGP (OTC)","EUR/CHF (OTC)","EUR/AUD (OTC)","USD/ZAR (OTC)","AUD/CHF (OTC)","AUD/JPY (OTC)","CAD/CHF (OTC)","CHF/JPY (OTC)","EUR/CAD (OTC)","EUR/JPY (OTC)","GBP/AUD (OTC)","NZD/CHF (OTC)","USD/CAD (OTC)","USD/CHF (OTC)","USD/COP (OTC)","USD/INR (OTC)","USD/JPY (OTC)","USD/MXN (OTC)","USD/NGN (OTC)","USD/PKR (OTC)","AUD/NZD (OTC)","EUR/SGD (OTC)","GBP/JPY (OTC)","USD/TRY (OTC)","EUR/NZD (OTC)","GBP/NZD (OTC)","NZD/USD (OTC)","GBP/CHF (OTC)","GBP/CAD (OTC)","GBP/USD (OTC)",
"Arbitrum (OTC)","Cosmos (OTC)","Bonk (OTC)","Dogecoin (OTC)","Polkadot (OTC)","Ethereum Classic (OTC)","Ethereum (OTC)","Floki (OTC)","Gala (OTC)","Hamster Kombat (OTC)","Chainlink (OTC)","Litecoin (OTC)","Melania Meme (OTC)","Notcoin (OTC)","Pepe (OTC)","Shiba Inu (OTC)","Solana (OTC)","Celestia (OTC)","Toncoin (OTC)","TRON (OTC)","Dogwifhat (OTC)","Zcash (OTC)","Avalanche (OTC)","Dash (OTC)","Axie Infinity (OTC)","Binance Coin (OTC)","Decentraland (OTC)","Cardano (OTC)","Trump (OTC)","Beam (OTC)","Aptos (OTC)","Ripple (OTC)","Bitcoin (OTC)","Bitcoin Cash (OTC)","USCrude (OTC)","Gold (OTC)","UKBrent (OTC)","Boeing Company (OTC)","FACEBOOK INC (OTC)","Intel (OTC)","Johnson & Johnson (OTC)","McDonald's (OTC)","Pfizer Inc (OTC)","American Express (OTC)","Microsoft (OTC)"
];

const REALpairs=['EUR/JPY','USD/JPY','CAD/JPY','NZD/USD','EUR/USD','GBP/USD','AUD/JPY','GBP/CAD','USD/CAD','AUD/CAD','AUD/USD','GBP/AUD','GBP/JPY','USD/CHF','EUR/GBP'];

// Fill dropdown
function fillAssetPairs(){
  assetSel.innerHTML='';
  const pairs=marketSel.value==='REAL'? REALpairs:OTCpairs;
  pairs.forEach(p=>{
    const opt=document.createElement('option');
    opt.value=p; opt.text=p;
    assetSel.appendChild(opt);
  });
}
fillAssetPairs();
marketSel.addEventListener('change',fillAssetPairs);

// Utilities
function fmtDate(d){return `${String(d.getDate()).padStart(2,'0')}.${String(d.getMonth()+1).padStart(2,'0')}.${d.getFullYear()}`;}
function pad2(n){return String(n).padStart(2,'0');}
function randDir(){return Math.random()>0.5?'CALL':'PUT';}

// Build signals (M1;PAIR;TIME;CALL/PUT)
function buildSignals(count){
  const out=[];
  const asset=assetSel.value || 'USD/JPY';
  let cursor=new Date();
  for(let i=0;i<count;i++){
    cursor=new Date(cursor.getTime()+(2+Math.floor(Math.random()*4))*60000);
    const time=`${pad2(cursor.getHours())}:${pad2(cursor.getMinutes())}`;
    const pair=asset
      .replace("/","")
      .replace(" ","")
      .replace("(","-")
      .replace(")","")
      .replace(" ","");
    out.push(`M1;${pair};${time};${randDir()}`);
  }
  return out;
}

// Timeframe text converter
function tfText(tfVal){
  if(tfVal.endsWith("m")) return tfVal.replace("m"," minutes");
  if(tfVal.endsWith("h")) return tfVal.replace("h"," hours");
  return tfVal;
}

function generateOutput(){
  const now=new Date().getTime();
  if(!licenseOk){
    licenseModal.style.display='flex';
    return;
  }
  if(licenseExpiry && now>licenseExpiry){
    licenseContent.style.display='none';
    expiredContent.style.display='block';
    licenseModal.style.display='flex';
    return;
  }
  outDiv.textContent="‚è≥ Generating... (10s)";
  setTimeout(()=>{
    const dateStr=dateInp.value?fmtDate(new Date(dateInp.value)):fmtDate(new Date());
    const count=Number(countInp.value||8);
    const signals=buildSignals(count);

    let lines=[];
    lines.push(`DATE: ${dateStr}\n`);
    lines.push(`‚è∞ UTC ${utcSel.value} ;  MTG :- 1 STEP\n`);
    lines.push(`              üêâDragonFly üêâ\n`);
    lines.push(`‚åõÔ∏è ${tfText(tf.value)} :- \n`);
    lines.push(signals.join("\n"));
    lines.push(`\nSoftware:DragonFly\nOwner: @TraderParvej`);
    outDiv.textContent=lines.join('\n');
  },10000);
}

// License activation
submitLicense.addEventListener('click',()=>{
  if(licenseKey.value.trim()===LICENSE_KEY){
    licenseOk=true;
    licenseExpiry=new Date().getTime()+LICENSE_DAYS*24*60*60*1000;
    licenseModal.style.display='none';
    licenseContent.style.display='block';
    expiredContent.style.display='none';
    generateOutput();
  }else{
    licenseError.style.display='block';
  }
});

generateBtn.addEventListener('click',generateOutput);
resetBtn.addEventListener('click',()=>{outDiv.textContent='‚ñ∂Ô∏è DATE: ‚Äî ‚óÄÔ∏è\n\n(Press Generate to produce signals)';});
copyBtn.addEventListener('click',()=>{navigator.clipboard.writeText(outDiv.textContent);copyBtn.textContent='Copied ‚úî';setTimeout(()=>copyBtn.textContent='Copy Output',1000);});
</script>
</body>
</html>
