<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DragonFly ‚Äî Signal Generator</title>
<style>
:root{
  --bg:#081024;
  --panel:#0f1530;
  --muted:#9fb0d6;
  --text:#ffffff;
  --accent:#6dd6ff;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:linear-gradient(180deg,#05102a,#081024);
  color:var(--text);
}
.wrap{max-width:1100px;margin:18px auto;padding:18px;}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;}
header h1{margin:0;font-size:20px;}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.03));border:1px solid rgba(255,255,255,0.04);border-radius:14px;padding:14px;margin-bottom:12px;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
select,input[type=date],input[type=number],button{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,255,255,0.9);
  color:#000;
  font-weight:600;
}
.controls{display:flex;gap:10px;margin-top:12px;}
.controls button{
  flex:1;
  background:var(--accent);
  color:#000;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
}
.output{
  margin-top:12px;
  padding:12px;
  border-radius:12px;
  background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.02));
  border:1px solid rgba(255,255,255,0.03);
  min-height:180px;
  white-space:pre-wrap;
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  color:#fff;
}
footer{text-align:center;color:var(--muted);font-size:13px;margin-top:16px;}
a.owner-link{color:var(--accent);text-decoration:none;font-weight:bold;}
a.owner-link:hover{text-decoration:underline;}
@media (max-width:880px){.grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
<div class="wrap">
<header>
<h1>üêâ DragonFly ‚Äî Signal Generator</h1>
<div class="small">Software: DragonFly &nbsp; Owner: <a class="owner-link" href="https://t.me/TraderParvej" target="_blank">@TraderParvej</a></div>
</header>

<section class="card">
<div class="grid">
<div>
<label>UTC Offset (eg. +6:00)</label>
<select id="utcSelect">
<option value="+0:00">UTC +0:00</option>
<option value="+1:00">UTC +1:00</option>
<option value="+2:00">UTC +2:00</option>
<option value="+3:00">UTC +3:00</option>
<option value="+4:00">UTC +4:00</option>
<option value="+5:00">UTC +5:00</option>
<option value="+6:00" selected>UTC +6:00 (BD)</option>
<option value="+7:00">UTC +7:00</option>
<option value="+8:00">UTC +8:00</option>
<option value="-4:00">UTC -4:00</option>
</select>
</div>

<div>
<label>Market</label>
<select id="market">
<option value="OTC">OTC</option>
<option value="REAL">REAL</option>
</select>
</div>

<div>
<label>Timeframe (signal candle)</label>
<select id="timeframe">
<option value="1m" selected>1 minute</option>
<option value="5m">5 minutes</option>
<option value="15m">15 minutes</option>
<option value="1h">1 hour</option>
</select>
</div>

<div>
<label>Start Date</label>
<input id="date" type="date">
</div>

<div>
<label>Signal Count</label>
<input type="number" id="count" min="1" value="8" placeholder="Enter number of signals">
</div>

<div>
<label>Asset Selection</label>
<select id="asset" multiple size="10"></select>
</div>
</div>

<div class="controls">
<button id="generate">Generate</button>
<button id="reset">Reset</button>
<button id="copyOut">Copy Output</button>
</div>

<div class="output" id="output">‚ñ∂Ô∏è DATE: ‚Äî ‚óÄÔ∏è

(Press Generate to produce signals)</div>
</section>

<footer>¬© DragonFly ‚Äî Advance signals. Use responsibly.</footer>
</div>

<script>
const utcSel = document.getElementById('utcSelect');
const marketSel = document.getElementById('market');
const tf = document.getElementById('timeframe');
const dateInp = document.getElementById('date');
const countInp = document.getElementById('count');
const assetSel = document.getElementById('asset');
const outDiv = document.getElementById('output');
const generateBtn = document.getElementById('generate');
const resetBtn = document.getElementById('reset');
const copyBtn = document.getElementById('copyOut');

// Pairs
const OTCpairs = [
  'AUD/USD (OTC)','USD/BRL (OTC)','EUR/USD (OTC)','NZD/CAD (OTC)','USD/ARS (OTC)',
  'AUD/CAD (OTC)','CAD/JPY (OTC)','USD/IDR (OTC)','EUR/GBP (OTC)','USD/BDT (OTC)',
  'USD/PHP (OTC)','USD/EGP (OTC)','EUR/CHF (OTC)','EUR/AUD (OTC)','USD/ZAR (OTC)',
  'AUD/CHF (OTC)','AUD/JPY (OTC)','CAD/CHF (OTC)','CHF/JPY (OTC)','EUR/CAD (OTC)',
  'EUR/JPY (OTC)','GBP/AUD (OTC)','NZD/CHF (OTC)','USD/CAD (OTC)','USD/CHF (OTC)',
  'USD/COP (OTC)','USD/INR (OTC)','USD/JPY (OTC)','USD/MXN (OTC)','USD/NGN (OTC)',
  'USD/PKR (OTC)','AUD/NZD (OTC)','EUR/SGD (OTC)','GBP/JPY (OTC)','USD/TRY (OTC)',
  'EUR/NZD (OTC)','GBP/NZD (OTC)','NZD/USD (OTC)','GBP/CHF (OTC)','GBP/CAD (OTC)',
  'GBP/USD (OTC)'
];
const REALpairs = ['EUR/JPY','USD/JPY','CAD/JPY','NZD/USD','EUR/USD','GBP/USD','AUD/JPY','GBP/CAD','USD/CAD','AUD/CAD','AUD/USD','GBP/AUD','GBP/JPY','USD/CHF','EUR/GBP'];

// Fill asset select
function fillAssetPairs(){
  assetSel.innerHTML = '';
  const market = marketSel.value;
  const pairs = market==='REAL'? REALpairs : OTCpairs;
  pairs.forEach(p=>{
    const opt = document.createElement('option');
    opt.value = p;
    opt.text = p;
    assetSel.appendChild(opt);
  });
}

// Initial fill on page load
fillAssetPairs();

// Update asset list when market changes
marketSel.addEventListener('change',fillAssetPairs);

// Utilities
function fmtDate(d){ const dd=String(d.getDate()).padStart(2,'0'); const mm=String(d.getMonth()+1).padStart(2,'0'); return `${dd}.${mm}.${d.getFullYear()}`;}
function pad2(n){return String(n).padStart(2,'0');}
function randDir(){return Math.random()>0.5?'CALL':'PUT';}

// Signal generation
function buildSignals(opts){
  const out = [];
  let {startDateObj,count} = opts;
  let cursor = new Date(startDateObj.getTime() + 10*60*1000); // start 10 min later
  const selectedAssets = Array.from(assetSel.selectedOptions).map(o=>o.value);
  const pairs = selectedAssets.length>0 ? selectedAssets : [OTCpairs[0]]; // default if none selected
  for(let i=0;i<count;i++){
    const pair = pairs[i % pairs.length];
    const dir = randDir();
    cursor = new Date(cursor.getTime() + 5*60*1000 + Math.floor(Math.random()*3*60*1000)); // random 5-8 min gap
    const hh=pad2(cursor.getHours()), mm=pad2(cursor.getMinutes());
    out.push(`${pair} : ${hh}:${mm} : ${dir}`);
  }
  return out;
}

// Generate output
function generateOutput(){
  const dateStr = dateInp.value ? fmtDate(new Date(dateInp.value)) : fmtDate(new Date());
  const count = Number(countInp.value||8);
  const signals = buildSignals({startDateObj:new Date(), count});
  let lines = [];
  lines.push(`‚ñ∂Ô∏è DATE: ${dateStr} ‚óÄÔ∏è\n`);
  lines.push(`‚è∞ UTC ${utcSel.value} üáßüá© ;  MTG :- 1 STEP‚ûï\n`);
  lines.push('              üêâDragonFly üêâ\n');
  lines.push(`‚åõÔ∏è ${tf.value} :- \n`);
  signals.forEach(s=>lines.push(s));
  lines.push('\nSoftware: DragonFly');
  lines.push('Owner: @TraderParvej');
  outDiv.textContent = lines.join('\n');
}

generateBtn.addEventListener('click',generateOutput);

resetBtn.addEventListener('click',()=>{
  dateInp.value='2025-08-26';
  countInp.value='8';
  utcSel.value='+6:00';
  marketSel.value='OTC';
  fillAssetPairs();
  outDiv.textContent='‚ñ∂Ô∏è DATE: ‚Äî ‚óÄÔ∏è\n\n(Press Generate to produce signals)';
});

copyBtn.addEventListener('click',async()=>{
  try{
    await navigator.clipboard.writeText(outDiv.textContent);
    copyBtn.textContent='Copied ‚úî';
    setTimeout(()=>copyBtn.textContent='Copy Output',900);
  }catch(e){
    alert('Copy failed ‚Äî allow clipboard permission');
});

// Auto-generate initial
generateOutput();
</script>
</body>
</html>
