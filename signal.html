<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DragonFly ‚Äî Signal Generator</title>
<style>
:root{
  --bg:#081024; --panel:#0f1530; --muted:#9fb0d6; --text:#ffffff;
  --accent:#6dd6ff; --green:#4caf50; --red:#f44336;
}
body{
  background:var(--bg); color:var(--text); font-family: 'Segoe UI',sans-serif;
  display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; margin:0;
}
.container{background:var(--panel); padding:20px 30px; border-radius:16px; box-shadow:0 0 25px #0008; width:320px;}
select,button,input{width:100%;margin:6px 0;padding:10px;border:none;border-radius:8px;font-size:15px;}
select,input{background:#101b3c;color:var(--text);}
button{background:var(--accent);color:#000;font-weight:600;cursor:pointer;}
button:hover{opacity:.9;}
h2{text-align:center;color:var(--accent);margin-bottom:10px;}
.modal{
  position:fixed;top:0;left:0;width:100%;height:100%;display:none;
  align-items:center;justify-content:center;background:#0009;z-index:99;
}
.modal-content{
  background:var(--panel);padding:20px;border-radius:16px;width:90%;max-width:340px;text-align:center;
  box-shadow:0 0 25px #0008;
}
.candle{
  position:relative;width:30px;height:80px;margin:20px auto;
}
.candle-body{
  width:100%;position:absolute;bottom:0;border-radius:4px;
}
@keyframes growUp{0%{height:0;}100%{height:80px;}}
@keyframes growDown{0%{height:80px;}100%{height:0;}}
</style>
</head>
<body>
<div class="container">
  <h2>üêâ DragonFly AI</h2>
  <select id="market">
    <option>Real Market</option>
    <option>OTC</option>
  </select>
  <select id="asset">
    <option>EUR/USD</option>
    <option>GBP/JPY</option>
    <option>USD/JPY</option>
  </select>
  <select id="timeframe">
    <option>1M</option>
    <option>2M</option>
    <option>5M</option>
  </select>
  <select id="bollinger">
    <option value="upper">Upper Band</option>
    <option value="lower">Lower Band</option>
  </select>
  <button id="generateBtn">Generate Signal</button>
  <button id="resetBtn">Reset</button>
</div>

<div class="modal" id="loadingModal">
  <div class="modal-content">
    <h3>üîÆ Trusted Dragonfly AI Analyzing...</h3>
  </div>
</div>

<div class="modal" id="signalModal">
  <div class="modal-content">
    <div class="candle">
      <div class="candle-body" id="candleBody"></div>
    </div>
    <pre id="signalText" style="text-align:left;"></pre>
    <button onclick="closeSignal()">Close</button>
  </div>
</div>

<script>
const marketSel=document.getElementById('market');
const assetSel=document.getElementById('asset');
const tfSel=document.getElementById('timeframe');
const bbSel=document.getElementById('bollinger');
const generateBtn=document.getElementById('generateBtn');
const resetBtn=document.getElementById('resetBtn');
const loadingModal=document.getElementById('loadingModal');
const signalModal=document.getElementById('signalModal');
const signalText=document.getElementById('signalText');
const candleBody=document.getElementById('candleBody');

function pad2(n){return n<10?'0'+n:n;}
function closeSignal(){signalModal.style.display='none';}

generateBtn.addEventListener('click',()=>{
  loadingModal.style.display='flex';
  setTimeout(()=>{
    loadingModal.style.display='none';
    const market=marketSel.value;
    const asset=assetSel.value;
    const tf=tfSel.value;
    const bb=bbSel.value;
    const direction=(bb==='upper')?'‚Üì SELL':'‚Üë BUY';
    const now=new Date();
    const h=pad2(now.getHours()), m=pad2(now.getMinutes());
    const curTime=`${h}:${m}`;
    
    // ‚úÖ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶è‡¶á ‡¶≤‡¶æ‡¶á‡¶®‡¶ü‡¶æ‡¶á ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá (‡ßß‚Äì‡ß© ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü random gap)
    const gap = 1 + Math.floor(Math.random() * 3);

    const expObj=new Date(now.getTime()+gap*60000);
    const expTime=`${pad2(expObj.getHours())}:${pad2(expObj.getMinutes())}`;
    const text=`üìä Market: ${market}\nüíé Asset: ${asset}\nüïì Timeframe: ${tf}\nüìà Bollinger: ${bb}\n\n${direction} ${expTime}\n\nüìç Analysis Time: ${curTime}`;
    signalText.textContent=text;
    const isBuy=direction.includes('BUY');
    candleBody.style.background=isBuy?'#4caf50':'#f44336';
    candleBody.style.animation=isBuy?'growUp 0.8s forwards':'growDown 0.8s forwards';
    signalModal.style.display='flex';
  },2500+Math.random()*1000);
});
resetBtn.addEventListener('click',()=>location.reload());
</script>
</body>
</html>
