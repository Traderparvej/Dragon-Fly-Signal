<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DragonFly â€” AI Real Time Signal</title>
<style>
:root{--bg:#081024;--panel:#0f1530;--muted:#9fb0d6;--text:#ffffff;--accent:#6dd6ff;--green:#4caf50;}
*{box-sizing:border-box;margin:0;padding:0;font-family:"Poppins",sans-serif;}
body{background:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;min-height:100vh;padding:20px;}
.container{width:100%;max-width:420px;background:var(--panel);padding:20px;border-radius:16px;box-shadow:0 0 20px #00000040;}
h1{text-align:center;margin-bottom:20px;color:var(--accent);}
label{display:block;margin:8px 0 4px;color:var(--muted);}
select,input,button{width:100%;padding:10px;margin-bottom:10px;border:none;border-radius:8px;}
button{background:var(--accent);color:#000;font-weight:600;cursor:pointer;transition:0.3s;}
button:hover{opacity:0.85;}
#output{background:#000;padding:10px;border-radius:8px;color:var(--green);white-space:pre-line;min-height:100px;font-family:"Courier New",monospace;}
.modal{position:fixed;inset:0;display:none;justify-content:center;align-items:center;background:#00000080;z-index:1000;}
.modal-content{background:var(--panel);padding:20px;border-radius:12px;text-align:center;max-width:400px;width:90%;}
.close-btn{background:#ff4444;color:#fff;margin-top:10px;}
.asset-list{max-height:120px;overflow-y:auto;background:#000;padding:8px;border-radius:8px;margin-bottom:10px;}
.asset-item{display:flex;align-items:center;gap:8px;margin-bottom:4px;}
.copy-btn{background:var(--green);color:#fff;font-weight:600;}
.reset-btn{background:#444;color:#fff;font-weight:600;}
.overlay{position:fixed;inset:0;background:#000000c0;display:none;justify-content:center;align-items:center;flex-direction:column;z-index:2000;}
.overlay p{color:var(--accent);font-size:18px;margin-top:10px;}
.loader{width:50px;height:50px;border:6px solid #ccc;border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;}
@keyframes spin{to{transform:rotate(360deg);}}
</style>
</head>
<body>
<div class="container">
<h1>AI Signal Generator</h1>

<label>Market Type</label>
<select id="marketType">
<option>Real Market</option>
<option>OTC</option>
</select>

<label>Select Asset</label>
<div class="asset-list" id="assetContainer"></div>

<label>Number of Signals</label>
<input type="number" id="numSignals" value="5" min="1" max="20"/>

<label>Signal Mode</label>
<select id="signalModeSel">
<option value="CALL">Call (Only)</option>
<option value="PUT">Put (Only)</option>
<option value="BOTH">Both (Call/Put)</option>
<option value="OPPOSITE">Opposite Candle Strategy</option>
</select>

<button id="generateBtn">Generate Signals</button>
<button id="resetBtn" class="reset-btn">Reset</button>
</div>

<div class="modal" id="signalModal">
 <div class="modal-content">
   <h3>Generated Signals</h3>
   <pre id="signalText" style="text-align:left"></pre>
   <button id="copySignalBtn" class="copy-btn">Copy All</button>
   <button onclick="closeSignal()" class="close-btn">Close</button>
 </div>
</div>

<div class="overlay" id="analysisOverlay">
 <div class="loader"></div>
 <p>Analyzing Market Logic...</p>
</div>

<script>
const assetContainer=document.getElementById("assetContainer");
const generateBtn=document.getElementById("generateBtn");
const signalModal=document.getElementById("signalModal");
const signalText=document.getElementById("signalText");
const copySignalBtn=document.getElementById("copySignalBtn");
const analysisOverlay=document.getElementById("analysisOverlay");
const resetBtn=document.getElementById("resetBtn");
const signalModeSel=document.getElementById("signalModeSel");

const assets=["EUR/JPY","USD/JPY","CAD/JPY","NZD/USD (OTC)","EUR/USD","GBP/USD","AUD/JPY","GBP/CAD","USD/CAD","AUD/CAD","AUD/USD","GBP/AUD","GBP/JPY","USD/CHF","EUR/GBP"];
assets.forEach(a=>{
 const div=document.createElement("div");
 div.className="asset-item";
 div.innerHTML=`<input type="checkbox" value="${a}"><span>${a}</span>`;
 assetContainer.appendChild(div);
});

function pad2(n){return n<10?"0"+n:n;}
function toMono(str){
 const map={"0":"ðŸ¶","1":"ðŸ·","2":"ðŸ¸","3":"ðŸ¹","4":"ðŸº","5":"ðŸ»","6":"ðŸ¼","7":"ðŸ½","8":"ðŸ¾","9":"ðŸ¿",
 "A":"ð™°","B":"ð™±","C":"ð™²","D":"ð™³","E":"ð™´","F":"ð™µ","G":"ð™¶","H":"ð™·","I":"ð™¸","J":"ð™¹","K":"ð™º","L":"ð™»",
 "M":"ð™¼","N":"ð™½","O":"ð™¾","P":"ð™¿","Q":"ðš€","R":"ðš","S":"ðš‚","T":"ðšƒ","U":"ðš„","V":"ðš…","W":"ðš†","X":"ðš‡",
 "Y":"ðšˆ","Z":"ðš‰","/":"/"," ":" "};
 return str.toUpperCase().split("").map(c=>map[c]||c).join("");
}

let licenseActive=true;

generateBtn.addEventListener('click',()=>{
 if(!licenseActive){alert("Activate license first.");return;}
 const selectedAssets=Array.from(assetContainer.querySelectorAll("input:checked")).map(i=>i.value);
 if(selectedAssets.length===0){alert("Select at least one asset.");return;}
 const numSignals=parseInt(document.getElementById("numSignals").value,10);
 const mode=signalModeSel.value;
 if(isNaN(numSignals)||numSignals<1){alert("Enter valid signal count.");return;}
 analysisOverlay.style.display='flex';
 setTimeout(()=>{
   analysisOverlay.style.display='none';
   let msg="";
   const now=new Date();

   // âœ… Only change: random time gap = 2â€“4 minutes
   for(let i=0;i<numSignals;i++){
     const asset=selectedAssets[i%selectedAssets.length];
     const gap=2+Math.floor(Math.random()*3); // random 2,3,4
     now.setMinutes(now.getMinutes()+gap);
     const timeStr=pad2(now.getHours())+":"+pad2(now.getMinutes());
     const monoTime=toMono(timeStr);
     const monoAsset=toMono(asset.toUpperCase());
     let sideLabel="";
     if(mode==="CALL")sideLabel="CALL";
     else if(mode==="PUT")sideLabel="PUT";
     else if(mode==="BOTH")sideLabel=Math.random()<0.5?"CALL":"PUT";
     if(mode==="OPPOSITE"){
       msg+=`ð™¼ðŸ· ${monoTime} ${monoAsset}\n`;
     }else{
       const monoSide=toMono(" "+sideLabel);
       msg+=`ð™¼ðŸ· ${monoTime} ${monoAsset}${monoSide}\n`;
     }
   }

   signalText.textContent=msg.trim();
   signalModal.style.display='flex';
 },10000);
});

function closeSignal(){signalModal.style.display='none';}
copySignalBtn.addEventListener('click',()=>{navigator.clipboard.writeText(signalText.textContent.trim());alert("Signal copied!");});
resetBtn.addEventListener('click',()=>{Array.from(assetContainer.querySelectorAll("input:checked")).forEach(i=>i.checked=false);document.getElementById("numSignals").value=1;});
</script>
</body>
</html>
