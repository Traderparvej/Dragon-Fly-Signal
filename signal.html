<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DragonFly â€” AI Real Time Signal</title>
<style>
:root{--bg:#081024;--panel:#0f1530;--muted:#9fb0d6;--text:#ffffff;--accent:#6dd6ff;--green:#4caf50;}
*{box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
body{background:var(--bg);color:var(--text);margin:0;padding:0;display:flex;justify-content:center;align-items:center;min-height:100vh;}
.container{width:95%;max-width:450px;background:var(--panel);padding:20px;border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,.5);}
h1{text-align:center;color:var(--accent);}
label{display:block;margin-top:10px;color:var(--muted);}
select,input,button{width:100%;padding:10px;margin-top:6px;border:none;border-radius:6px;font-size:15px;}
button{background:var(--accent);color:#000;font-weight:600;cursor:pointer;}
button:hover{opacity:0.9;}
.assets{display:flex;flex-wrap:wrap;gap:5px;margin-top:8px;}
.asset{flex:1 1 30%;background:#1a2342;padding:8px;border-radius:6px;text-align:center;cursor:pointer;}
.asset.active{background:var(--accent);color:#000;font-weight:700;}
.output{margin-top:15px;background:#0d1330;padding:12px;border-radius:8px;min-height:100px;white-space:pre-wrap;}
.copy-btn{margin-top:10px;background:var(--green);color:#fff;}
.hidden{display:none;}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:999;}
.modal-content{background:var(--panel);padding:20px;border-radius:10px;width:90%;max-width:400px;}
.modal-content h2{text-align:center;margin-bottom:10px;color:var(--accent);}
.close{float:right;cursor:pointer;color:var(--muted);}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000;color:var(--accent);font-size:18px;flex-direction:column;}
</style>
</head>
<body>
<div class="container">
<h1>ğŸ§  DragonFly AI</h1>
<p style="text-align:center;color:var(--muted)">Real-Time Signal Generator</p>

<div id="licenseSection">
<label>Enter License Key:</label>
<input id="licenseKey" placeholder="Paste license key here">
<button id="activateBtn">Activate License</button>
<p id="deviceId" style="font-size:12px;color:var(--muted);word-break:break-all;"></p>
</div>

<div id="signalSection" class="hidden">
<label>Select Market:</label>
<select id="market">
<option value="Quotex">Quotex</option>
<option value="Binomo">Binomo</option>
<option value="IQ Option">IQ Option</option>
</select>

<label>Timeframe:</label>
<select id="timeframe">
<option value="1m">1 Minute</option>
<option value="2m">2 Minute</option>
<option value="5m">5 Minute</option>
</select>

<label>Choose Assets:</label>
<div class="assets" id="assetContainer">
<div class="asset">EUR/USD</div>
<div class="asset">GBP/USD</div>
<div class="asset">USD/JPY</div>
<div class="asset">AUD/USD</div>
<div class="asset">EUR/JPY</div>
<div class="asset">USD/CAD</div>
</div>

<label>Signal Mode:</label>
<select id="signalMode">
<option value="CALL">CALL</option>
<option value="PUT">PUT</option>
<option value="BOTH">Both</option>
<option value="OPPOSITE">Opposite</option>
</select>

<label>Number of Signals:</label>
<input id="numSignals" type="number" min="1" max="20" value="5">

<button id="generateBtn">ğŸš€ Generate Signal</button>
<div class="output" id="signalOutput"></div>
<button class="copy-btn" id="copySignalBtn">ğŸ“‹ Copy Signal</button>
<button id="resetBtn" style="background:#ff5555;color:#fff;margin-top:8px;">ğŸ”„ Reset</button>
</div>

<button id="adminLogin" style="margin-top:15px;background:#222;color:#999;">ğŸ‘¨â€ğŸ’» Admin Login</button>

<div class="modal hidden" id="adminModal">
<div class="modal-content">
<span class="close" id="adminClose">&times;</span>
<h2>Admin Panel</h2>
<label>Enter Password:</label>
<input id="adminPass" type="password" placeholder="Enter password">
<button id="checkAdmin">Login</button>
<div id="adminArea" class="hidden">
<label>Device ID:</label>
<input id="targetDevice" placeholder="Enter user device ID">
<label>Days Valid:</label>
<input id="validDays" type="number" value="30">
<button id="genLicenseBtn">Generate License</button>
<p id="generatedKey" style="font-size:12px;word-break:break-all;margin-top:8px;color:var(--accent);"></p>
</div>
</div>
</div>

<div class="overlay hidden" id="analysisOverlay">ğŸ¤– AI Market Analysis... Please wait 10s</div>

<div class="modal hidden" id="signalModal">
<div class="modal-content">
<h2>Generated Signal</h2>
<pre id="signalText" style="white-space:pre-wrap;"></pre>
<button id="closeSignal">Close</button>
</div>
</div>

<script>
const licenseKey=document.getElementById('licenseKey');
const activateBtn=document.getElementById('activateBtn');
const signalSection=document.getElementById('signalSection');
const licenseSection=document.getElementById('licenseSection');
const deviceIdDisplay=document.getElementById('deviceId');
const analysisOverlay=document.getElementById('analysisOverlay');
const signalOutput=document.getElementById('signalOutput');
const copySignalBtn=document.getElementById('copySignalBtn');
const signalModal=document.getElementById('signalModal');
const signalText=document.getElementById('signalText');
const adminLogin=document.getElementById('adminLogin');
const adminModal=document.getElementById('adminModal');
const adminClose=document.getElementById('adminClose');
const checkAdmin=document.getElementById('checkAdmin');
const adminPass=document.getElementById('adminPass');
const adminArea=document.getElementById('adminArea');
const genLicenseBtn=document.getElementById('genLicenseBtn');
const targetDevice=document.getElementById('targetDevice');
const validDays=document.getElementById('validDays');
const generatedKey=document.getElementById('generatedKey');
const generateBtn=document.getElementById('generateBtn');
const resetBtn=document.getElementById('resetBtn');
const assetContainer=document.getElementById('assetContainer');
const timeframe=document.getElementById('timeframe');
const signalModeSel=document.getElementById('signalMode');

function uuidv4(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,c=>{const r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16);});}
function pad2(n){return n<10?'0'+n:n;}
const deviceId=localStorage.getItem('deviceId')||uuidv4();
localStorage.setItem('deviceId',deviceId);
deviceIdDisplay.textContent="Device ID: "+deviceId;

function checkLicense(){
 const data=JSON.parse(localStorage.getItem('licenseData')||'{}');
 if(!data.key)return false;
 const [dev,exp]=atob(data.key).split('|');
 if(dev!==deviceId)return false;
 if(Date.now()>parseInt(exp))return false;
 return true;
}
function saveLicense(k){localStorage.setItem('licenseData',JSON.stringify({key:k}));}

let licenseActive=checkLicense();
if(licenseActive){licenseSection.classList.add('hidden');signalSection.classList.remove('hidden');}

activateBtn.onclick=()=>{
 const key=licenseKey.value.trim();
 if(!key)return alert("Enter license key");
 try{
  const [dev,exp]=atob(key).split('|');
  if(dev===deviceId && Date.now()<parseInt(exp)){
   saveLicense(key);
   alert("âœ… License Activated!");
   licenseSection.classList.add('hidden');
   signalSection.classList.remove('hidden');
   licenseActive=true;
  }else alert("âŒ Invalid or expired key");
 }catch(e){alert("âŒ Invalid key format");}
};

assetContainer.querySelectorAll('.asset').forEach(a=>{
 a.addEventListener('click',()=>a.classList.toggle('active'));
});

adminLogin.onclick=()=>adminModal.classList.remove('hidden');
adminClose.onclick=()=>adminModal.classList.add('hidden');
checkAdmin.onclick=()=>{
 if(adminPass.value==="@Traderparvej@"){adminArea.classList.remove('hidden');}
 else alert("Wrong password");
};
genLicenseBtn.onclick=()=>{
 const dev=targetDevice.value.trim();
 const days=parseInt(validDays.value)||1;
 if(!dev)return alert("Enter Device ID");
 const exp=Date.now()+days*86400000;
 const key=btoa(`${dev}|${exp}`);
 generatedKey.textContent=key;
 navigator.clipboard.writeText(key);
 alert("License copied!");
};

function toMono(str){const map={"A":"ğ™°","B":"ğ™±","C":"ğ™²","D":"ğ™³","E":"ğ™´","F":"ğ™µ","G":"ğ™¶","H":"ğ™·","I":"ğ™¸","J":"ğ™¹","K":"ğ™º","L":"ğ™»","M":"ğ™¼","N":"ğ™½","O":"ğ™¾","P":"ğ™¿","Q":"ğš€","R":"ğš","S":"ğš‚","T":"ğšƒ","U":"ğš„","V":"ğš…","W":"ğš†","X":"ğš‡","Y":"ğšˆ","Z":"ğš‰","/":"/","(":"("," ": " ",")":")"};return str.split("").map(ch=>map[ch]||ch).join("");}

generateBtn.addEventListener('click',()=>{
 if(!licenseActive){alert("Activate your license first.");return;}
 const assetsSel=[...assetContainer.querySelectorAll('.active')].map(i=>i.textContent);
 if(assetsSel.length===0){alert("Select at least one asset.");return;}
 const num=parseInt(document.getElementById('numSignals').value,10)||1;
 const tf=timeframe.value;
 const mode=signalModeSel.value;

 analysisOverlay.classList.remove('hidden');
 setTimeout(()=>{
   analysisOverlay.classList.add('hidden');
   const now=new Date();
   let out="ğŸš€ ğ——ğ—¥ğ—”ğ—šğ—¢ğ—¡ğ—™ğ—Ÿğ—¬ ğ—”ğ—œ ğ—¦ğ—œğ—šğ—¡ğ—”ğ—Ÿğ—¦\n\n";
   for(let i=0;i<num;i++){
     const a=assetsSel[Math.floor(Math.random()*assetsSel.length)];
     const h=pad2(now.getHours()),m=pad2(now.getMinutes());
     const gap=2+Math.floor(Math.random()*3); // âœ… Random 2â€“4 minutes
     const signalTime=`${h}:${m}`;
     let sig='CALL';
     if(mode==='PUT')sig='PUT';
     else if(mode==='OPPOSITE')sig=Math.random()>0.5?'CALL':'PUT';
     else if(mode==='BOTH')sig=Math.random()>0.5?'CALL':'PUT';
     out+=`ğŸ”¹ ${toMono(a)} | â±ï¸ ${signalTime} | ğŸ•’ ${tf.toUpperCase()} | ğŸ“Š ${sig}\n`;
     now.setMinutes(now.getMinutes()+gap);
   }
   out+=`\nğŸ“ˆ Powered by DragonFly AI`;
   signalText.textContent=out;
   signalModal.classList.remove('hidden');
 },10000);
});

copySignalBtn.addEventListener('click',()=>{
 navigator.clipboard.writeText(signalText.textContent);
 copySignalBtn.textContent="âœ… Copied!";
 setTimeout(()=>copySignalBtn.textContent="ğŸ“‹ Copy Signal",2000);
});

resetBtn.addEventListener('click',()=>{assetContainer.querySelectorAll('.active').forEach(a=>a.classList.remove('active'));signalOutput.textContent='';});
document.getElementById('closeSignal').onclick=()=>signalModal.classList.add('hidden');
</script>
</div>
</body>
</html>
