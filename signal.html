<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DragonFly ‚Äî Signal Generator</title>
<style>
:root{--bg:#081024;--panel:#0f1530;--muted:#9fb0d6;--text:#ffffff;--accent:#6dd6ff;--green:#4caf50;}
*{box-sizing:border-box;}
body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#05102a,#081024);color:var(--text);}
.wrap{max-width:1100px;margin:18px auto;padding:18px;}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
header h1{margin:0;font-size:20px;display:flex;align-items:center;gap:12px;}
header .telegram-link{font-size:13px;color:#6dd6ff;text-decoration:none;}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.03));border:1px solid rgba(255,255,255,0.04);border-radius:12px;padding:14px;margin-bottom:12px;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
select,button,input,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);font-weight:600;}
select,input,textarea{background:rgba(255,255,255,0.95);color:#000;font-weight:500;}
.controls{display:flex;gap:10px;margin-top:12px;}
.controls button{flex:1;background:var(--accent);color:#000;border:none;border-radius:10px;cursor:pointer;font-weight:700;transition:0.18s;}
.controls button:hover{opacity:0.95;}
.small-note{font-size:12px;color:var(--muted);}
.license-status{margin-top:6px;font-weight:600;font-size:14px;}
.license-status.active{color:var(--green);}
footer{text-align:center;color:#9fb0d6;font-size:13px;margin-top:16px;}
.signal-modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:1200;}
.signal-modal{background:linear-gradient(180deg,#0f1530,#111a3a);padding:16px;border-radius:14px;width:92%;max-width:380px;color:#fff;box-shadow:0 12px 30px rgba(0,0,0,0.6);text-align:center;font-size:13px;line-height:1.4;border:1px solid rgba(255,255,255,0.05);}
.signal-candle{display:flex;flex-direction:column;align-items:center;margin-bottom:12px;}
.signal-candle .wick{width:3px;height:14px;background:#ccc;border-radius:2px;}
.signal-candle .body{width:26px;height:0;border-radius:3px;box-shadow:0 6px 18px rgba(0,0,0,0.25) inset;}
@keyframes growUp{from{height:0;}to{height:44px;}}
@keyframes growDown{from{height:0;}to{height:44px;}}
.signal-text{text-align:left;white-space:pre-wrap;font-family:'Courier New',monospace;font-size:13px;line-height:1.45;color:#eee;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.05);border-radius:8px;padding:10px;margin-bottom:8px;}
.signal-modal button{width:100%;padding:9px;border:none;border-radius:8px;background:var(--accent);font-weight:700;cursor:pointer;}
.signal-modal button:hover{opacity:0.95;}
.loading-modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.55);display:none;align-items:center;justify-content:center;z-index:1250;}
.loading-box{background:#0f1530;padding:20px 18px;border-radius:12px;text-align:center;max-width:300px;width:90%;color:#fff;font-size:14px;box-shadow:0 10px 28px rgba(0,0,0,0.6);}
.dots{display:inline-block;margin-top:10px;}
.dots span{display:inline-block;width:8px;height:8px;margin:0 2px;background:#6dd6ff;border-radius:50%;animation:bounce 1s infinite;}
.dots span:nth-child(2){animation-delay:0.2s;}
.dots span:nth-child(3){animation-delay:0.4s;}
@keyframes bounce{0%,80%,100%{transform:scale(0);}40%{transform:scale(1);}}
.admin-login-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.55);display:none;align-items:center;justify-content:center;z-index:1300;}
.admin-login{background:#0b1220;padding:16px;border-radius:10px;width:90%;max-width:380px;color:#fff;box-shadow:0 12px 40px rgba(0,0,0,0.6);}
.admin-login h3{margin:0 0 10px 0;}
.admin-login input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);margin-bottom:8px;}
.admin-login .row{display:flex;gap:8px;}
.admin-login .row button{flex:1;padding:10px;border-radius:8px;border:none;cursor:pointer;}
.admin-note{font-size:13px;color:#9fb0d6;margin-top:6px;}
#adminPanel{display:none;margin-top:10px;}
.admin-row{display:flex;gap:8px;}
.admin-row input{flex:1;}
.code-box{word-break:break-all;padding:8px;background:rgba(0,0,0,0.2);border-radius:6px;margin-top:8px;font-family:monospace;font-size:13px;}
@media (max-width:880px){.grid{grid-template-columns:1fr;}}
@keyframes fadeIn{from{opacity:0;transform:scale(0.95);}to{opacity:1;transform:scale(1);}}
</style>
</head>
<body>
<div class="wrap">
<header>
<h1>üêâ DragonFly ‚Äî Signal Generator</h1>
<a href="https://t.me/Bdsecrettrading" target="_blank" class="telegram-link">Telegram Support</a>
<div>
<span class="license-status" id="licenseStatus">License Inactive ‚ùå</span>
<div class="small-note" id="deviceIdDiv"></div>
</div>
</header>

<section class="card">
<label>Enter License Key (Member)</label>
<input type="text" id="licenseInput" placeholder="Paste license key here">
<button id="activateBtn" style="margin-top:10px;">Activate License</button>
</section>

<section class="card">
<div class="grid">
<div><label>Market</label><select id="market"><option value="OTC">OTC</option><option value="REAL">REAL</option></select></div>
<div><label>Timeframe</label><select id="timeframe"><option value="1m" selected>1 minute</option><option value="5m">5 minutes</option><option value="15m">15 minutes</option><option value="1h">1 hour</option></select></div>
<div><label>Asset</label><select id="assetSelect"></select></div>
<div><label>Bollinger Band</label><select id="bollinger"><option value="upper" selected>Upper</option><option value="lower">Lower</option></select></div>
</div>
<div class="controls" style="margin-top:12px;">
<button id="generate">Generate Signal</button>
<button id="reset">Reset</button>
</div>
</section>

<section class="card" id="adminPanel">
<h3>üîß Admin ‚Äî License Generator</h3>
<div style="margin-bottom:8px;"><label>Device ID to give license</label><input type="text" id="adminDeviceId" placeholder="Enter device ID"></div>
<div style="margin-bottom:8px;"><label>License Duration (days)</label><input type="number" id="adminDuration" placeholder="e.g. 15" min="1"></div>
<div style="display:flex;gap:8px;">
<button id="generateLicenseBtn" style="flex:1;background:#4caf50;color:#fff;">Generate License</button>
<button id="copyLastLicenseBtn" style="flex:1;background:#2196f3;color:#fff;">Copy Last</button>
</div>
<div class="code-box" id="generatedBox" style="margin-top:10px;">Generated license will appear here.</div>
<div style="margin-top:8px;color:var(--muted);font-size:13px;">Note: Give the generated key to the member. The key works only on the Device ID you specified.</div>

<!-- üõ† Added Notice Popup System -->
<hr style="margin:16px 0;border-color:rgba(255,255,255,0.05)">
<h3>üì¢ Admin ‚Äî Custom Notice Popup</h3>
<textarea id="customNoticeInput" rows="3" placeholder="Write your notice here...">üöß Server maintenance ‡¶ö‡¶≤‡¶õ‡ßá, ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</textarea>
<div class="controls">
<button id="showCustomNoticeBtn" style="background:#ffb84d;color:#000;">Show Notice</button>
<button id="hideCustomNoticeBtn" style="background:#f44336;color:#fff;">Hide Notice</button>
</div>
</section>

<!-- üí¨ Notice Modal -->
<div id="customNoticeModal" style="
  position:fixed;inset:0;background:rgba(0,0,0,0.65);backdrop-filter:blur(6px);
  display:none;align-items:center;justify-content:center;z-index:5000;">
  <div style="
    background:linear-gradient(180deg,#0f1530,#1b2450);color:#fff;padding:24px 22px;border-radius:14px;
    max-width:420px;width:90%;text-align:center;box-shadow:0 8px 32px rgba(0,0,0,0.6);animation:fadeIn 0.3s ease;">
    <h2 style="margin-top:0;margin-bottom:10px;">‚öôÔ∏è Important Notice</h2>
    <p id="customNoticeText" style="white-space:pre-line;font-size:15px;line-height:1.5;margin-bottom:18px;"></p>
    <button id="closeNoticePopupBtn" style="background:#6dd6ff;color:#000;border:none;padding:8px 16px;border-radius:8px;font-weight:700;cursor:pointer;">Close</button>
  </div>
</div>

<div class="signal-modal-backdrop" id="signalModal">
<div class="signal-modal">
<div class="signal-candle"><div class="wick"></div><div id="candleBody" class="body"></div><div class="wick"></div></div>
<div id="signalText" class="signal-text"></div>
<button onclick="closeSignal()">Close</button>
</div>
</div>

<div class="loading-modal-backdrop" id="loadingModal">
<div class="loading-box">
<div>üîÑ Analyzing Market...</div>
<div class="dots"><span></span><span></span><span></span></div>
</div>
</div>

<div class="admin-login-backdrop" id="adminLoginModal">
<div class="admin-login">
<h3>Admin Login</h3>
<input type="password" id="adminPasswordInput" placeholder="Enter admin password">
<div class="row" style="margin-top:6px;">
<button id="adminLoginSubmit" style="background:#4caf50;color:#fff;">Login</button>
<button id="adminLoginCancel" style="background:#f44336;color:#fff;">Cancel</button>
</div>
<div class="admin-note">Hint: use the password provided by owner.</div>
</div>
</div>

<footer style="text-align:center;color:#9fb0d6;font-size:13px;margin-top:16px;">
¬© DragonFly ‚Äî Advance signals
<div style="margin-top:4px;font-size:10px;">
<button id="showAdminLoginBtn" style="background:transparent;border:none;color:#9fb0d6;cursor:pointer;">Admin Login</button>
</div>
</footer>

<script>
const ADMIN_PASSWORD="@Traderparvej@";
const LICENSE_STORAGE_PREFIX="dragon_license_";
let deviceId=localStorage.getItem("dragon_device_id");
if(!deviceId){deviceId=String(Math.floor(Math.random()*900000000+100000000));localStorage.setItem("dragon_device_id",deviceId);}
document.getElementById('deviceIdDiv').textContent="Device ID: "+deviceId;

// === Existing JS ===
... [‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶ï‡¶ø JS ‡¶è‡¶ï‡¶á ‡¶•‡¶æ‡¶ï‡¶¨‡ßá, ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡ßü‡¶®‡¶ø] ...

// === Notice Popup JS ===
const customNoticeModal=document.getElementById('customNoticeModal');
const customNoticeText=document.getElementById('customNoticeText');
const showCustomNoticeBtn=document.getElementById('showCustomNoticeBtn');
const hideCustomNoticeBtn=document.getElementById('hideCustomNoticeBtn');
const closeNoticePopupBtn=document.getElementById('closeNoticePopupBtn');
const customNoticeInput=document.getElementById('customNoticeInput');

showCustomNoticeBtn.addEventListener('click',()=>{
  const msg=customNoticeInput.value.trim();
  if(!msg){alert("‚ö†Ô∏è Please write a notice first.");return;}
  customNoticeText.textContent=msg;
  customNoticeModal.style.display='flex';
});
hideCustomNoticeBtn.addEventListener('click',()=>{customNoticeModal.style.display='none';});
closeNoticePopupBtn.addEventListener('click',()=>{customNoticeModal.style.display='none';});
</script>
</div>
</body>
</html>
