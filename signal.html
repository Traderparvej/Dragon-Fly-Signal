<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DragonFly â€” Signal Generator</title>
<style>
:root{
  --bg:#081024;
  --panel:#0f1530;
  --muted:#9fb0d6;
  --text:#ffffff;
  --accent:#6dd6ff;
}
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  background:linear-gradient(180deg,#05102a,#081024);
  color:#fff;
}
.wrap{max-width:1100px;margin:18px auto;padding:18px;}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;}
header h1{margin:0;font-size:20px;}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.03));border:1px solid rgba(255,255,255,0.04);border-radius:14px;padding:14px;margin-bottom:12px;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
select,input[type=date],input[type=number],button{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,255,255,0.9);
  color:#000;
  font-weight:600;
}
.controls{display:flex;gap:10px;margin-top:12px;}
.controls button{flex:1;background:var(--accent);color:#000;border:none;border-radius:10px;cursor:pointer;font-weight:600;}
.output{
  margin-top:12px;
  padding:12px;
  border-radius:12px;
  background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.02));
  border:1px solid rgba(255,255,255,0.03);
  min-height:180px;
  white-space:pre-wrap;
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  color:#fff;
}
footer{text-align:center;color:var(--muted);font-size:13px;margin-top:16px;}
a.owner-link{color:var(--accent);text-decoration:none;font-weight:bold;}
a.owner-link:hover{text-decoration:underline;}
@media (max-width:880px){.grid{grid-template-columns:1fr;}}

/* ğŸ”’ Modal Style */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:999;}
.modal{background:#0f1530;padding:20px;border-radius:12px;width:90%;max-width:400px;color:#fff;box-shadow:0 8px 24px rgba(0,0,0,0.5);}
.modal h2{margin-top:0;margin-bottom:10px;}
.modal input{width:100%;padding:10px;border-radius:8px;border:1px solid #333;margin-bottom:12px;}
.modal button{padding:10px 16px;border:none;border-radius:8px;background:var(--accent);font-weight:bold;cursor:pointer;}
.modal .error{color:#ff8a8a;font-size:13px;display:none;margin-top:6px;}
.modal .expired a{color:#6dd6ff;text-decoration:none;}
.modal .expired a:hover{text-decoration:underline;}
</style>
</head>
<body>
<div class="wrap">
<header>
<h1>ğŸ‰ DragonFly â€” Signal Generator</h1>
<div class="small">Software: DragonFly &nbsp; Owner: <a class="owner-link" href="https://t.me/TraderParvej" target="_blank">@TraderParvej</a></div>
</header>

<section class="card">
<div class="grid">
<div>
<label>UTC Offset (eg. +6:00)</label>
<select id="utcSelect">
<option value="+0:00">UTC +0:00</option>
<option value="+6:00" selected>UTC +6:00 (BD)</option>
</select>
</div>
<div>
<label>Market</label>
<select id="market">
<option value="OTC">OTC</option>
<option value="REAL">REAL</option>
</select>
</div>
<div>
<label>Timeframe</label>
<select id="timeframe">
<option value="1m" selected>1 minute</option>
<option value="5m">5 minutes</option>
<option value="15m">15 minutes</option>
<option value="1h">1 hour</option>
</select>
</div>
<div>
<label>Start Date</label>
<input id="date" type="date">
</div>
<div>
<label>Signal Count</label>
<input type="number" id="count" min="1" value="8">
</div>
<div>
<label>Asset</label>
<select id="asset"></select>
</div>
</div>

<div class="controls">
<button id="generate">Generate</button>
<button id="reset">Reset</button>
<button id="copyOut">Copy Output</button>
</div>

<div class="output" id="output">â–¶ï¸ DATE: â€” â—€ï¸

(Press Generate to produce signals)</div>
</section>

<footer>Â© DragonFly â€” Advance signals. Use responsibly.</footer>
</div>

<div class="modal-backdrop" id="licenseModal" style="display:none;">
  <div class="modal">
    <h2>ğŸ”‘ License Required</h2>
    <div id="licenseContent">
      <p>Please enter your license key to unlock signals:</p>
      <input type="password" id="licenseKey" placeholder="Enter license key">
      <button id="submitLicense">Activate</button>
      <div class="error" id="licenseError">âŒ Invalid license, try again.</div>
      <p style="margin-top:10px; font-size:13px; color:#6dd6ff;">
        à¦¬à§ˆà¦§ à¦²à¦¾à¦‡à¦¸à§‡à¦¨à§à¦¸ à¦ªà§‡à¦¤à§‡, à¦†à¦®à¦¾à¦¦à§‡à¦° <a href="https://t.me/+SsTMPgPVYoVlNTQ1" target="_blank" style="color:#ffffff;text-decoration:underline;">à¦Ÿà§‡à¦²à¦¿à¦—à§à¦°à¦¾à¦® à¦—à§à¦°à§à¦ªà§‡ à¦¯à§‹à¦— à¦¦à¦¿à¦¨</a>
      </p>
    </div>
    <div class="expired" style="display:none;">
      <p>License Expired. Please contact for a new license:</p>
      <a href="https://t.me/+SsTMPgPVYoVlNTQ1" target="_blank">Contact via Telegram</a>
    </div>
  </div>
</div>

<script>
const utcSel=document.getElementById('utcSelect');
const marketSel=document.getElementById('market');
const tf=document.getElementById('timeframe');
const dateInp=document.getElementById('date');
const countInp=document.getElementById('count');
const assetSel=document.getElementById('asset');
const outDiv=document.getElementById('output');
const generateBtn=document.getElementById('generate');
const resetBtn=document.getElementById('reset');
const copyBtn=document.getElementById('copyOut');

const licenseModal=document.getElementById('licenseModal');
const submitLicense=document.getElementById('submitLicense');
const licenseKey=document.getElementById('licenseKey');
const licenseError=document.getElementById('licenseError');
const licenseContent=document.getElementById('licenseContent');
const expiredContent=document.querySelector('.modal .expired');

let licenseOk=false;
const LICENSE_KEY='dragonflyvip';
const LICENSE_DAYS=30;
let licenseExpiry=null;

const OTCpairs=["AUD/USD (OTC)","USD/BRL (OTC)","EUR/USD (OTC)"];
const REALpairs=['EUR/JPY','USD/JPY','CAD/JPY','NZD/USD'];

function fillAssetPairs(){
  assetSel.innerHTML='';
  const pairs=marketSel.value==='REAL'? REALpairs:OTCpairs;
  pairs.forEach(p=>{
    const opt=document.createElement('option');
    opt.value=p; opt.text=p;
    assetSel.appendChild(opt);
  });
}
fillAssetPairs();
marketSel.addEventListener('change',fillAssetPairs);

function fmtDate(d){return `${String(d.getDate()).padStart(2,'0')}.${String(d.getMonth()+1).padStart(2,'0')}.${d.getFullYear()}`;}
function pad2(n){return String(n).padStart(2,'0');}
function randDir(){return Math.random()>0.5?'ğ™²ğ™°ğ™»ğ™»':'ğ™¿ğš„ğšƒ';}

function buildSignals(count){
  const out=[];
  const asset=assetSel.value.replace("/","").replace(" ","").replace("(","-").replace(")","");
  let cursor=new Date();
  for(let i=0;i<count;i++){
    cursor=new Date(cursor.getTime()+(2+Math.floor(Math.random()*4))*60000);
    const time=`${pad2(cursor.getHours())}:${pad2(cursor.getMinutes())}`;
    out.push(`ğ™¼ğŸ· ${asset} ${marketSel.value} ${time} ${randDir()}Â `);
  }
  return out;
}

function tfText(tfVal){
  if(tfVal.endsWith("m")) return tfVal.replace("m"," minutes");
  if(tfVal.endsWith("h")) return tfVal.replace("h"," hours");
  return tfVal;
}

function generateOutput(){
  const now=new Date().getTime();
  if(!licenseOk){
    licenseModal.style.display='flex';
    return;
  }
  if(licenseExpiry && now>licenseExpiry){
    licenseContent.style.display='none';
    expiredContent.style.display='block';
    licenseModal.style.display='flex';
    return;
  }
  const dateStr=dateInp.value?fmtDate(new Date(dateInp.value)):fmtDate(new Date());
  const count=Number(countInp.value||8);
  const signals=buildSignals(count);

  let lines=[];
  lines.push(`DATE: ${dateStr}\n`);
  lines.push(`â° UTC ${utcSel.value} ;  MTG :- 1 STEP\n`);
  lines.push(`              ğŸ‰DragonFly ğŸ‰\n`);
  lines.push(`âŒ›ï¸ ${tfText(tf.value)} :- \n`);
  outDiv.textContent=lines.join('\n') + signals.join('\n') + `\n\nSoftware:DragonFly\nOwner: @TraderParvej`;
}

submitLicense.addEventListener('click',()=>{
  if(licenseKey.value.trim()===LICENSE_KEY){
    licenseOk=true;
    licenseExpiry=new Date().getTime()+LICENSE_DAYS*24*60*60*1000;
    licenseModal.style.display='none';
    licenseContent.style.display='block';
    expiredContent.style.display='none';
    generateOutput();
  }else{
    licenseError.style.display='block';
  }
});

generateBtn.addEventListener('click',generateOutput);
resetBtn.addEventListener('click',()=>{outDiv.textContent='â–¶ï¸ DATE: â€” â—€ï¸\n\n(Press Generate to produce signals)';});
copyBtn.addEventListener('click',()=>{navigator.clipboard.writeText(outDiv.textContent);copyBtn.textContent='Copied âœ”';setTimeout(()=>copyBtn.textContent='Copy Output',1000);});
</script>
</body>
</html>
