<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>DragonFly ‚Äî AI Real Time Signal</title>
<style>
:root{
  --bg:#081024;
  --panel:#0f1530;
  --muted:#9fb0d6;
  --text:#ffffff;
  --accent:#6dd6ff;
  --green:#4caf50;
}
*{box-sizing:border-box;}
body{margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#05102a,#081024);color:var(--text);}
.wrap{max-width:1100px;margin:18px auto;padding:18px;}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
header h1{margin:0;font-size:20px;display:flex;align-items:center;gap:12px;}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.03));border:1px solid rgba(255,255,255,0.04);border-radius:12px;padding:14px;margin-bottom:12px;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;}
label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
select,button,input{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);font-weight:600;}
select,input{background:#fff;color:#000;}
.controls{display:flex;gap:10px;margin-top:12px;}
.controls button{flex:1;background:var(--accent);color:#000;border:none;border-radius:10px;cursor:pointer;font-weight:700;}
footer{text-align:center;color:#9fb0d6;font-size:13px;margin-top:16px;}
.signal-modal-backdrop,
.analysis-overlay,
.admin-login-backdrop,
#loginPopup{
position:fixed;inset:0;display:none;align-items:center;justify-content:center;
}
.signal-modal-backdrop{background:rgba(0,0,0,.6);z-index:1200;}
.analysis-overlay{background:rgba(0,0,0,.85);z-index:1400;flex-direction:column;}
.admin-login-backdrop{background:rgba(0,0,0,.55);z-index:1300;}
.signal-modal{background:#0f1530;padding:16px;border-radius:14px;width:92%;max-width:380px;}
.signal-text{white-space:pre-wrap;font-family:monospace;background:rgba(255,255,255,.05);padding:10px;border-radius:8px;}
.spinner{width:50px;height:50px;border:6px solid #eee;border-top-color:#6dd6ff;border-radius:50%;animation:spin 1s linear infinite;}
@keyframes spin{to{transform:rotate(360deg)}}
.asset-checkbox label{display:block;margin-bottom:4px;cursor:pointer;}
@media(max-width:880px){.grid{grid-template-columns:1fr;}}
</style>
</head>

<body>
<div class="wrap">
<header>
<h1>üêâ DragonFly ‚Äî AI Real Time Signal</h1>
<div>
<span id="licenseStatus">License Inactive ‚ùå</span>
<div id="deviceIdDiv"></div>
</div>
</header>

<section class="card">
<label>Enter License Key</label>
<input id="licenseInput">
<button id="activateBtn" style="margin-top:10px;">Activate</button>
</section>

<section class="card">
<div class="grid">
<div>
<label>Market</label>
<select id="market">
<option value="OTC">OTC</option>
<option value="REAL">REAL</option>
</select>
</div>

<div>
<label>Timeframe</label>
<select id="timeframe"><option>1m</option></select>
</div>

<div>
<label>Assets</label>
<div id="assetContainer" class="asset-checkbox" style="max-height:180px;overflow:auto;"></div>
</div>

<div>
<label>Number of Signals</label>
<input type="number" id="numSignals" value="1" min="1">
</div>

<div>
<label>Signal Mode</label>
<select id="signalMode">
<option value="OPPOSITE">Opposite Candle</option>
<option value="CALL">CALL</option>
<option value="PUT">PUT</option>
<option value="BOTH">Both</option>
</select>
</div>
</div>

<div class="controls">
<button id="generate">Generate</button>
<button id="reset">Reset</button>
</div>
</section>

<div class="signal-modal-backdrop" id="signalModal">
<div class="signal-modal">
<div id="signalText" class="signal-text"></div>
<button onclick="navigator.clipboard.writeText(signalText.textContent)">Copy</button>
<button onclick="signalModal.style.display='none'">Close</button>
</div>
</div>

<div class="analysis-overlay" id="analysisOverlay">
<div>üîç AI Market Analysis‚Ä¶</div>
<div class="spinner"></div>
</div>

<script>
const OTCpairs=["USD/BDT (OTC)","EUR/USD (OTC)","Bitcoin (OTC)"];
const REALpairs=["EUR/USD","GBP/USD","USD/JPY"];
const marketSel=document.getElementById("market");
const assetContainer=document.getElementById("assetContainer");
const generateBtn=document.getElementById("generate");
const signalModal=document.getElementById("signalModal");
const signalText=document.getElementById("signalText");
const analysisOverlay=document.getElementById("analysisOverlay");

function fillAssets(){
 assetContainer.innerHTML='';
 (marketSel.value==="REAL"?REALpairs:OTCpairs).forEach(a=>{
  const l=document.createElement("label");
  l.innerHTML=`<input type="checkbox" value="${a}"> ${a}`;
  assetContainer.appendChild(l);
 });
}
fillAssets();
marketSel.onchange=fillAssets;

function isWeekendUTC6(){
 const now=new Date();
 const utc=now.getTime()+now.getTimezoneOffset()*60000;
 const bd=new Date(utc+6*3600000);
 const d=bd.getDay();
 return d===0||d===6;
}

generateBtn.onclick=()=>{
 if(isWeekendUTC6() && marketSel.value==="REAL"){
  alert("Weekend detected (UTC +06)\nREAL Market Closed\nUse OTC");
  return;
 }
 analysisOverlay.style.display="flex";
 setTimeout(()=>{
  analysisOverlay.style.display="none";
  showSignal();
 },10000);
};

function showSignal(){
 const assets=[...assetContainer.querySelectorAll("input:checked")].map(i=>i.value);
 if(!assets.length){alert("Select asset");return;}

 const utc=new Date().getTime()+new Date().getTimezoneOffset()*60000;
 const base=new Date(utc+6*3600000);
 base.setMinutes(base.getMinutes()+1);

 let msg="üöÄ DragonFly AI Future Signal\nUTC +06\n\n";
 const n=parseInt(numSignals.value);

 for(let i=0;i<n;i++){
  const gap=Math.floor(Math.random()*5)+4;
  base.setMinutes(base.getMinutes()+gap);
  msg+=`M1 ${base.getHours().toString().padStart(2,"0")}:${base.getMinutes().toString().padStart(2,"0")} ${assets[i%assets.length]}\n`;
 }
 signalText.textContent=msg;
 signalModal.style.display="flex";
}
</script>
</body>
</html>
